layout="default"
url="admin/users"
[account]
[session]
==
function onStart() {
  $user = Auth::getUser();
  if (!$user) {
    return Redirect::to('/admin/login');
  }
  $this['users'] = \Rainlab\User\Models\User::all();
}
==
<div class="row mt-6">
    <div class="col">
      <div class="card">
        <!-- Card header -->
        <div class="card-header">
          <h3 class="mb-0">Users</h3>
        </div>
        <div class="table-responsive py-4">
          <div id="datatable-buttons_wrapper" class="dataTables_wrapper dt-bootstrap4">
            <table id="users" class="table table-flush dataTable" id="datatable-buttons" role="grid" aria-describedby="datatable-buttons_info">
            <thead class="thead-light">
              <tr role="row">
                <th class="sorting_asc" tabindex="0" aria-controls="datatable-buttons" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Name: activate to sort column descending" style="width: 20px;">#</th>
                <th class="sorting" tabindex="0" aria-controls="datatable-buttons" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 50px;">Profile Picture</th>
                <th class="sorting" tabindex="0" aria-controls="datatable-buttons" rowspan="1" colspan="1" aria-label="Position: activate to sort column ascending" style="width: 282px;">Name</th>
                <th class="sorting" tabindex="0" aria-controls="datatable-buttons" rowspan="1" colspan="1" aria-label="Office: activate to sort column ascending" style="width: 137px;">Email</th>
                <th class="sorting" tabindex="0" aria-controls="datatable-buttons" rowspan="1" colspan="1" aria-label="Age: activate to sort column ascending" style="width: 60px;">Username</th>
                <th class="sorting" tabindex="0" aria-controls="datatable-buttons" rowspan="1" colspan="1" aria-label="Salary: activate to sort column ascending" style="width: 114px;">Action</th></tr>
            </thead>
            <tbody>          
              {% for user in users %}        
              <tr role="row" class="odd">
                  <td class="sorting_1">{{ loop.index }}</td>
                  {% if user.image == "" %}
                  <td><i class="far fa-user"></i></td>
                  {% else %}
                  <td><img src="{{ user.image.getThumb(100, 100, {'mode':'exact', 'quality': 80, 'extension': 'webp'}) }}" alt="Description Image" /></td>
                  {% endif %}
                  <td>{{ user.name }}</td>
                  <td>{{ user.email }}</td>
                  <td>{{ user.username }}</td>
                  <td class="text-right">
                    <a class="mx-2" data-request="onShowUser" data-request-data="id: {{ user.id }}, type: 'edit'" data-request-update="user-modal: '#user-modal'" data-request-flash data-request-success="onOpenModal()"><i class="far fa-edit"></i></a>
                    <a class="mx-2" data-request="onDeleteUser" data-request-data="id: {{ user.id }}" data-request-redirect="/admin/users"><i class="far fa-trash-alt"></i></a>
                  </td>
                </tr>
                {% endfor %}
            </tbody>
          </table>
        </div>
        </div>
      </div>
    </div>
  </div>
  <div id="user-modal">
    {% partial "user-modal" %}
  </div>

  <script>
    $(document).ready(function() {
      $('#users').dataTable({
        "language": {
        "paginate": {
          "previous": '<i class="fa fa-chevron-left fa-lg" aria-hidden="true"></i>',
          "next": '<i class="fa fa-chevron-right fa-lg" aria-hidden="true"></i>'
         }
        }
      });
      $('.industry_picker').selectpicker();
      $('.industry_picker button').removeClass('btn btn-light').addClass('form-control');
    });

    function onOpenModal() {
      $("#userModal").modal("show");
    }

  </script>